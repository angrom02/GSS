---
title: "General Social Survey"
author: "Angelica Romero"
date: "September 2024"
output: 
  html_document:
    number_sections: true
    toc: true
---


```{r include=FALSE,echo=FALSE}
require(tigerstats)
require(tidyverse)
require(foreign)
source("GrabData.R")
```




#  Question 1

<!--In this section you explain what you are trying to show.  Where did the data come from?  What is the research or other question you are trying to answer?!-->

The data in the dataframe GSSdata is from the 2018 General Social Survey. The first blocks of R-code has selected down a subset of the data to just 16 variables. It has further removed unwanted factor levels in much of the data. Examine the code in the GrabData.R file to see what it is doing. Some of the variables are categorical and others are numerical. Be sure to do a variable analysis before tackling each question.  
First question - Is opinion on the death penalty (CAPPUN) independent of gun ownership (OWNGUN)?


## Methods

<!--Decide on your methods:  use "variable analysis" or other appropriate descriptors.  Make sure to choose at least one graphical method and at least one numerical method.!-->
Question: is gun ownership independent of opinion on capital punishment?

$H_0$:  gun ownership and opinion on capital punishment are not related.

$H_A$: gun ownership and opinion on capital punishment are related. 

OWNGUN ~ CAPPUN are both categorical, thus is use cat~cat

##Results

<!--Divide this section into two sub-sections:  One for your descriptive  results and one for your inferential results.!-->

### Descriptive Results

#### Graphical Descriptive Results

<!--Graphical results here.  Make sure to show your code.  Provide appropriate labels for axes, giving units if possible, and provide a good title for the graph, too.  Use the graphical results to describe the patterns if any that exist in the data as focused toward the research question!-->

```{r}
barchartGC(~OWNGUN + CAPPUN,data=GSSdata)
barchartGC(~OWNGUN + CAPPUN,data=GSSdata)
```

This bar chart shows that people who are gun owners are more likely to favor capital punishment. 

#### Numerical Descriptive Results

<!--Numerical results go here. Use the numerical results to describe the patterns if any that exist in the data as focused toward the research question!-->

```{r}
table1 <- xtabs(~OWNGUN + CAPPUN, data=GSSdata)
rowPerc(table1)
colPerc(table1)
```

This numerical chart shows that gun owners are more likely to favor capital punishment. 

### Inferential Results

<!--State hypothesis clearly.  Make sure your discussion of the inferential test covers all the aspects that the test output produces, such as test statistic, p-value etc.  Make a decision about the null hypothesis, explain the assumptions on which the selected test/procedure was based, and why the chosen procedure satisfys the assumptions and is appropriate to answer the research question!-->


```{r}
chisq.test(table1)
chisqtestGC(table1)
fisher.test(table1)
```

We reject the null hypothesis because the p value is less than 0.05. We can conclude that gun ownership and opinions on capital punishment are related. The Fisher's Exact Test shows that the odds ratio of 2.27:1 means gun owners are more likely to be in favor of capital punishment. 

#  Question 2

<!--In this section you explain what you are trying to show.  Where did the data come from?  What is the research or other question you are trying to answer?!-->

Is there a difference in years of education (EDUC) between the those who did or did not vote in 2012 (VOTE12)?

## Methods

<!--Decide on your methods:  use "variable analysis" or other appropriate descriptors.  Make sure to choose at least one graphical method and at least one numerical method.!-->

$H_0$ Years of education make a difference between who voted and who did not vote in 2012.

$H_A$ Years of education do not make a difference between who voted and who did not vote in 2012. 

##Results

<!--Divide this section into two sub-sections:  One for your descriptive  results and one for your inferential results.!-->

### Descriptive Results

#### Graphical Descriptive Results

```{r}
boxplot(EDUC~VOTE12,data=GSSdata)
```

This graph shows people who voted in 2012 tended to have more education than those who did not vote.8 


<!--Graphical results here.  Make sure to show your code.  Provide appropriate labels for axes, giving units if possible, and provide a good title for the graph, too.  Use the graphical results to describe the patterns if any that exist in the data as focused toward the research question!-->

#### Numerical Descriptive Results

<!--Numerical results go here. Use the numerical results to describe the patterns if any that exist in the data as focused toward the research question!-->

```{r}
favstats(EDUC~VOTE12,data=GSSdata)
```

The data shows that on average people who voted in 2012 had approximately 15 years of education. 

### Inferential Results

<!--State hypothesis clearly.  Make sure your discussion of the inferential test covers all the aspects that the test output produces, such as test statistic, p-value etc.  Make a decision about the null hypothesis, explain the assumptions on which the selected test/procedure was based, and why the chosen procedure satisfys the assumptions and is appropriate to answer the research question!-->

```{r}
t.test(EDUC~VOTE12,data=GSSdata)
```

We reject the null hypothesis because the data shows that people who voted in 2012 had more years of education. 

#  Question 3

<!--In this section you explain what you are trying to show.  Where did the data come from?  What is the research or other question you are trying to answer?!-->

Determine if a persons performance on the wordsum test (WORDSUM) is independent of their level of schooling (DEGREE).

## Methods

$H_0$ A persons wordsum test is independant of the level of schooling they received.        
$H_A$ A persons wordum test is not independant of the level of schooling they received. 

<!--Decide on your methods:  use "variable analysis" or other appropriate descriptors.  Make sure to choose at least one graphical method and at least one numerical method.!-->

##Results

<!--Divide this section into two sub-sections:  One for your descriptive  results and one for your inferential results.!-->

### Descriptive Results

#### Graphical Descriptive Results

<!--Graphical results here.  Make sure to show your code.  Provide appropriate labels for axes, giving units if possible, and provide a good title for the graph, too.  Use the graphical results to describe the patterns if any that exist in the data as focused toward the research question!-->

```{r}
plot(WORDSUM~DEGREE,data=GSSdata)
```

The boxplot shows that a persons wordsum test results get higher the farther in education they got.


#### Numerical Descriptive Results

<!--Numerical results go here. Use the numerical results to describe the patterns if any that exist in the data as focused toward the research question!-->

```{r}
favstats(WORDSUM~DEGREE,data=GSSdata) 
```

The data shows the highest average is by people in the Graduate category whereas the lowest mean was by people in the LT High School category.

### Inferential Results
```{r}
model1 <- aov(WORDSUM~DEGREE,data=GSSdata)
summary.aov(model1)
```


```{r}
plot(TukeyHSD(model1))
```

There is no statistical evidence in difference a persons Wordsum test between less than high school and high school, less than high school and junior college, junior college and bachelor, junior college and graduate and finally bachelor and graduate. 

<!--State hypothesis clearly.  Make sure your discussion of the inferential test covers all the aspects that the test output produces, such as test statistic, p-value etc.  Make a decision about the null hypothesis, explain the assumptions on which the selected test/procedure was based, and why the chosen procedure satisfys the assumptions and is appropriate to answer the research question!-->

We reject the null hypothesis because the p value is less than 0.05. From the data, we can assume that a person's highest level of education relates to their wordsum test result. The boxplot shows how the farther in education they got, the higher the wordsum score they received.


# Discussion and Conclusion

<!--Discussion and conclusion here.  If you found a relationship be sure to consider whether the relationship occurs because one of the variavbles causes the other, or whether they perhasps are related for some other reason.  Watch the chapter 6 videos from the GeorgeTown videos collection.!-->

Question 1 conclusion: We can conclude that a person's opinion on capital punishment and gun ownership are related. Through the numerical chart, we can see that those who favor capital punishment and own a gun have a higher percentage than those who oppose capital punishment and do not own a gun. 

Question 2 conclusion: In question 2, we came to the conclusion that people years of education is related to whether or not they voted in 2012. In the boxplot, voters in 2012 had an average of 16 years of education whereas people who did not vote had an average of 13 years of education.  

Question 3 conclusion: With the data gathered in question 3, we conclude that a person's wordsum performance may not be independent of the level of schooling they received. The boxplot indicated that people who got their bachelors degree had a higher performance on the wordsum test. With this data, we deduce receiving a bachelors degree or higher could postively influence a wordsum test performance. 
